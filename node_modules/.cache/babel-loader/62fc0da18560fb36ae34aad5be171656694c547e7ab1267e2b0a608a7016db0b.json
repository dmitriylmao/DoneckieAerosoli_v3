{"ast":null,"code":"import _slicedToArray from\"C:/Users/dimae/OneDrive/Desktop/site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useCallback}from'react';import{NavLink}from'react-router-dom';import BtnDarkMode from'../btnDarkMode/BtnDarkMode';import'./style.css';// Подключение стилей\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),lastScrollY=_useState4[0],setLastScrollY=_useState4[1];// Мемоизация функции controlNavbar с использованием useCallback\nvar controlNavbar=useCallback(function(){if(window.scrollY>lastScrollY){// Прокрутка вниз - скрыть навбар\nsetIsVisible(false);}else{// Прокрутка вверх - показать навбар\nsetIsVisible(true);}setLastScrollY(window.scrollY);},[lastScrollY]);useEffect(function(){window.addEventListener('scroll',controlNavbar);return function(){window.removeEventListener('scroll',controlNavbar);};},[controlNavbar]);// Добавляем controlNavbar в зависимости\nvar activeLink='nav-list__link nav-list__link--active';var normalLink='nav-list__link';return/*#__PURE__*/_jsx(\"nav\",{className:\"nav \".concat(isVisible?'nav--visible':'nav--hidden'),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-row\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/#\",className:\"logo\",children:\"\\u0414\\u043E\\u043D\\u0435\\u0446\\u043A\\u0438\\u0435 \\u0430\\u044D\\u0440\\u043E\\u0437\\u043E\\u043B\\u0438\"}),/*#__PURE__*/_jsx(BtnDarkMode,{className:\"btn-dark-mode\"}),\" \",/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-list\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-list__item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:function className(_ref){var isActive=_ref.isActive;return isActive?activeLink:normalLink;},children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-list__item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/projects\",className:function className(_ref2){var isActive=_ref2.isActive;return isActive?activeLink:normalLink;},children:\"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0446\\u0438\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-list__item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/contacts\",className:function className(_ref3){var isActive=_ref3.isActive;return isActive?activeLink:normalLink;},children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"})})]})]})})});};export default Navbar;","map":{"version":3,"names":["useEffect","useState","useCallback","NavLink","BtnDarkMode","Navbar","isVisible","setIsVisible","lastScrollY","setLastScrollY","controlNavbar","window","scrollY","addEventListener","removeEventListener","activeLink","normalLink","isActive"],"sources":["C:/Users/dimae/OneDrive/Desktop/site/src/components/navbar/Navbar.js"],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport BtnDarkMode from '../btnDarkMode/BtnDarkMode';\nimport './style.css'; // Подключение стилей\n\nconst Navbar = () => {\n  const [isVisible, setIsVisible] = useState(true);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  // Мемоизация функции controlNavbar с использованием useCallback\n  const controlNavbar = useCallback(() => {\n    if (window.scrollY > lastScrollY) {\n      // Прокрутка вниз - скрыть навбар\n      setIsVisible(false);\n    } else {\n      // Прокрутка вверх - показать навбар\n      setIsVisible(true);\n    }\n    setLastScrollY(window.scrollY);\n  }, [lastScrollY]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', controlNavbar);\n    return () => {\n      window.removeEventListener('scroll', controlNavbar);\n    };\n  }, [controlNavbar]); // Добавляем controlNavbar в зависимости\n\n  const activeLink = 'nav-list__link nav-list__link--active';\n  const normalLink = 'nav-list__link';\n\n  return (\n    <nav className={`nav ${isVisible ? 'nav--visible' : 'nav--hidden'}`}>\n      <div className=\"container\">\n        <div className=\"nav-row\">\n          <NavLink to=\"/#\" className=\"logo\">\n            Донецкие аэрозоли\n          </NavLink>\n\n          <BtnDarkMode className=\"btn-dark-mode\" /> {/* Добавлен класс */}\n\n          <ul className=\"nav-list\">\n            <li className=\"nav-list__item\">\n              <NavLink\n                to=\"/\"\n                className={({ isActive }) =>\n                  isActive ? activeLink : normalLink\n                }\n              >\n                Главная\n              </NavLink>\n            </li>\n\n            <li className=\"nav-list__item\">\n              <NavLink\n                to=\"/projects\"\n                className={({ isActive }) =>\n                  isActive ? activeLink : normalLink\n                }\n              >\n                Продукция\n              </NavLink>\n            </li>\n            <li className=\"nav-list__item\">\n              <NavLink\n                to=\"/contacts\"\n                className={({ isActive }) =>\n                  isActive ? activeLink : normalLink\n                }\n              >\n                Контакты\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"0HAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,MAAOC,YAAW,KAAM,4BAA4B,CACpD,MAAO,aAAa,CAAE;AAAA,wFAEtB,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,cAAkCJ,QAAQ,CAAC,IAAI,CAAC,wCAAzCK,SAAS,eAAEC,YAAY,eAC9B,eAAsCN,QAAQ,CAAC,CAAC,CAAC,yCAA1CO,WAAW,eAAEC,cAAc,eAElC;AACA,GAAMC,cAAa,CAAGR,WAAW,CAAC,UAAM,CACtC,GAAIS,MAAM,CAACC,OAAO,CAAGJ,WAAW,CAAE,CAChC;AACAD,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,IAAM,CACL;AACAA,YAAY,CAAC,IAAI,CAAC,CACpB,CACAE,cAAc,CAACE,MAAM,CAACC,OAAO,CAAC,CAChC,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjBR,SAAS,CAAC,UAAM,CACdW,MAAM,CAACE,gBAAgB,CAAC,QAAQ,CAAEH,aAAa,CAAC,CAChD,MAAO,WAAM,CACXC,MAAM,CAACG,mBAAmB,CAAC,QAAQ,CAAEJ,aAAa,CAAC,CACrD,CAAC,CACH,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAAE;AAErB,GAAMK,WAAU,CAAG,uCAAuC,CAC1D,GAAMC,WAAU,CAAG,gBAAgB,CAEnC,mBACE,YAAK,SAAS,eAASV,SAAS,CAAG,cAAc,CAAG,aAAa,CAAG,uBAClE,YAAK,SAAS,CAAC,WAAW,uBACxB,aAAK,SAAS,CAAC,SAAS,wBACtB,KAAC,OAAO,EAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,+GAEvB,cAEV,KAAC,WAAW,EAAC,SAAS,CAAC,eAAe,EAAG,kBAEzC,YAAI,SAAS,CAAC,UAAU,wBACtB,WAAI,SAAS,CAAC,gBAAgB,uBAC5B,KAAC,OAAO,EACN,EAAE,CAAC,GAAG,CACN,SAAS,CAAE,4BAAGW,SAAQ,MAARA,QAAQ,OACpBA,SAAQ,CAAGF,UAAU,CAAGC,UAAU,EACnC,wDAGO,EACP,cAEL,WAAI,SAAS,CAAC,gBAAgB,uBAC5B,KAAC,OAAO,EACN,EAAE,CAAC,WAAW,CACd,SAAS,CAAE,6BAAGC,SAAQ,OAARA,QAAQ,OACpBA,SAAQ,CAAGF,UAAU,CAAGC,UAAU,EACnC,oEAGO,EACP,cACL,WAAI,SAAS,CAAC,gBAAgB,uBAC5B,KAAC,OAAO,EACN,EAAE,CAAC,WAAW,CACd,SAAS,CAAE,6BAAGC,SAAQ,OAARA,QAAQ,OACpBA,SAAQ,CAAGF,UAAU,CAAGC,UAAU,EACnC,8DAGO,EACP,GACF,GACD,EACF,EACF,CAEV,CAAC,CAED,cAAeX,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}